# Secure Shell Bastion (SSB)
Secure-Shell-Bastion (SSB) is a fully automated tool for generating jailed chroot enviroments for ssh users. This is most commonly refered to as a "SSH Bastion", which acts a secure singular endpoint for external users to verify themselvs and safely reach unexposed infustructure(typically behind a firewall). SSB leverages the extreamly lightweight and powerful features of Alpine Linux and MUSL to generate entire chroot in less than 10MB. This means a single SSB can service hundereds of users safely on exreamly small VM's (1 core - 512MB Ram - 10GB disk). 

# How SSB Works
To create an isolated enviroment for each user, SSB uses [chroot](https://www.debian.org/doc/manuals/securing-debian-manual/chroot-ssh-env.en.html) and the `ChrootDirectory` option in OpenSSH to isolate users to there own File System tree. Rather than soft or hard linking each binary, binaries are copied into each chroot preventing user tampering and potenial escaping the isolated file system tree. On a typical linux system this can result with a fairly messy enviroment, but with the power of MUSL each chroot can be kept extreamly small. 

SSB also uses a "double-key" model, meaning that a user uses their private key to connect to the bastion, then another interal key generated by the bastion to access the unexposed infustructure.  
![SSH Bastion](https://docs.google.com/drawings/d/e/2PACX-1vTrPM9zFsFK-hfR39zoVAi4ttWG25wgNthdPylpAP9Df-fBNZ7Ru3ss10WFillwqA92BMW6PZe24ACK/pub?w=960&h=720)

Another critcal feature of SSB is its ability to prevent unwanted tampering and access to unneeded binaries. Since a Bastion by defenition needs broad access to your network to serve users, it is critcal to limit access to binaries that could be used to attack the infustructure behind the bastion. For this reason, SSB only links the following binaries to each Chroot:
- ash
- bash 
- ls 
- echo 
- cp 
- rm 
- mv
- cat 
- mkdir 
- touch
- pwd
- grep
- sed
- nvim (neovim)
- ssh
- ssh-add
- ssh-keygen


# Install SSB


# Using SSB
